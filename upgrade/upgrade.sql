INSERT IGNORE INTO settings (var,value) VALUES ('genres','');
INSERT IGNORE INTO settings (var,value) VALUES ('use_cache','1');
INSERT IGNORE INTO settings (var,value) VALUES ('registration','1');
INSERT IGNORE INTO settings (var,value) VALUES ('md5updated','');
INSERT IGNORE INTO settings (var,value) VALUES ('start_youtube','1');
INSERT IGNORE INTO settings (var,value) VALUES ('gwebmaster','');
INSERT IGNORE INTO settings (var,value) VALUES ('ads_refresh','0');
INSERT IGNORE INTO settings (var,value) VALUES ('ads_float','0');
INSERT IGNORE INTO settings (var,value) VALUES ('show_ads_float_rand','0');
INSERT IGNORE INTO settings (var,value) VALUES ('purchase_code','');
INSERT IGNORE INTO settings (var,value) VALUES ('custom_video_error','UzatNVbmL6k');
INSERT IGNORE INTO settings (var,value) VALUES ('audio_ads','');
INSERT IGNORE INTO settings (var,value) VALUES ('nplaylist','1');
INSERT IGNORE INTO settings (var,value) VALUES ('meta_keywords','');
INSERT IGNORE INTO settings (var,value) VALUES ('limit_activity_page','50');
INSERT IGNORE INTO settings (var,value) VALUES ('limit_activity_profile','50');
INSERT IGNORE INTO settings (var,value) VALUES ('export_playlist','0');
INSERT IGNORE INTO settings (var,value) VALUES ('auto_country','1');
INSERT IGNORE INTO settings (var,value) VALUES ('biography_lang','en');
INSERT IGNORE INTO settings (var,value) VALUES ('theme_mobile','default');
INSERT IGNORE INTO settings (var,value) VALUES ('smtp_host','ssl://smtp.gmail.com');
INSERT IGNORE INTO settings (var,value) VALUES ('smtp_port','465');
INSERT IGNORE INTO settings (var,value) VALUES ('smtp_user','');
INSERT IGNORE INTO settings (var,value) VALUES ('smtp_pass','');
INSERT IGNORE INTO settings (var,value) VALUES ('hide_ads_registered','0');
INSERT IGNORE INTO settings (var,value) VALUES ('allow_close_ads','1');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_type','disqus');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_profile','1');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_songinfo','1');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_artist','1');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_albums','1');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_station','1');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_register_user','0');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_fb_id','');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_fb_app_id','');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_disqus_id','');
INSERT IGNORE INTO settings (var,value) VALUES ('col_xs','12');
INSERT IGNORE INTO settings (var,value) VALUES ('col_sm','12');
INSERT IGNORE INTO settings (var,value) VALUES ('col_md','4');
INSERT IGNORE INTO settings (var,value) VALUES ('col_lg','3');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_facebook_colors','dark');
INSERT IGNORE INTO settings (var,value) VALUES ('download_service','http://youtube.andthemusic.net/?url=%youtube_url%');
INSERT IGNORE INTO settings (var,value) VALUES ('top_tracks_link','TopTracks');
INSERT IGNORE INTO settings (var,value) VALUES ('clean_cache','0');
INSERT IGNORE INTO settings (var,value) VALUES ('activity_module','1');
INSERT IGNORE INTO settings (var,value) VALUES ('brand_link','Activity');
INSERT IGNORE INTO settings (var,value) VALUES ('youtube_controls','0');
INSERT IGNORE INTO settings (var,value) VALUES ('youtube_api_key','');
INSERT IGNORE INTO settings (var,value) VALUES ('youtube_quality','small');
INSERT IGNORE INTO settings (var,value) VALUES ('twitter_username','');
INSERT IGNORE INTO settings (var,value) VALUES ('facebook_fanpage','');
INSERT IGNORE INTO settings (var,value) VALUES ('popup_guest','1');
INSERT IGNORE INTO settings (var,value) VALUES ('popup_guest_delay','100');
INSERT IGNORE INTO settings (var,value) VALUES ('skin_color','');
INSERT IGNORE INTO settings (var,value) VALUES ('module_user_online','1');
INSERT IGNORE INTO settings (var,value) VALUES ('local_lyrics','1');
INSERT IGNORE INTO settings (var,value) VALUES ('custom_genres','');
INSERT IGNORE INTO settings (var,value) VALUES ('footer_script','');
INSERT IGNORE INTO settings (var,value) VALUES ('page_ajax_script','');
INSERT IGNORE INTO settings (var,value) VALUES ('loginfb','0');
INSERT IGNORE INTO settings (var,value) VALUES ('fb_appId','');
INSERT IGNORE INTO settings (var,value) VALUES ('fb_secret','');
INSERT IGNORE INTO settings (var,value) VALUES ('proxy','');
INSERT IGNORE INTO settings (var,value) VALUES ('musik_left_menu','nav-xs');
INSERT IGNORE INTO settings (var,value) VALUES ('force_register','0');
INSERT IGNORE INTO settings (var,value) VALUES ('carousel_active','0');
INSERT IGNORE INTO settings (var,value) VALUES ('carousel_show','all');
INSERT IGNORE INTO settings (var,value) VALUES ('contact_email','');
INSERT IGNORE INTO settings (var,value) VALUES ('contact_email2','');
INSERT IGNORE INTO settings (var,value) VALUES ('mobile_redirect','');
INSERT IGNORE INTO settings (var,value) VALUES ('itunes_afiliate','10lJNg');
INSERT IGNORE INTO settings (var,value) VALUES ('newsletter_title','Newsletter Weekend');
INSERT IGNORE INTO settings (var,value) VALUES ('newsletter_description','');
INSERT IGNORE INTO settings (var,value) VALUES ('newsletter_mod_recommended','1');
INSERT IGNORE INTO settings (var,value) VALUES ('newsletter_mod_the_most_listened','1');
INSERT IGNORE INTO settings (var,value) VALUES ('newsletter_mod_top_artist_weekend','1');
INSERT IGNORE INTO settings (var,value) VALUES ('newsletter_mod_trending_now','1');
INSERT IGNORE INTO settings (var,value) VALUES ('newsletter_footer','');
INSERT IGNORE INTO settings (var,value) VALUES ('newsletter_key',sha1(now()));
INSERT IGNORE INTO settings (var,value) VALUES ('newsletter_base_url','');
INSERT IGNORE INTO settings (var,value) VALUES ('use_db_language','1');
INSERT IGNORE INTO settings (var,value) VALUES ('remote_lyrics_service','1');
INSERT IGNORE INTO settings (var,value) VALUES ('youtube_method','1');
INSERT IGNORE INTO settings (var,value) VALUES ('language_browser','0');
INSERT IGNORE INTO settings (var,value) VALUES ('musik_sidebar','block');
INSERT IGNORE INTO settings (var,value) VALUES ('box_guest_info','1');
INSERT IGNORE INTO settings (var,value) VALUES ('ads_block_sidebar','<img src="http://placehold.it/200x200">');
INSERT IGNORE INTO settings (var,value) VALUES ('local_artist','1');
INSERT IGNORE INTO settings (var,value) VALUES ('banned_artist','');
INSERT IGNORE INTO settings (var,value) VALUES ('remote_artist','1');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_only_users','1');
INSERT IGNORE INTO settings (var,value) VALUES ('comment_fb_lang','en_US');
INSERT IGNORE INTO settings (var,value) VALUES ('data_widget_id_tw','');
INSERT IGNORE INTO settings (var,value) VALUES ('max_time_player','900');
INSERT IGNORE INTO settings (var,value) VALUES ('ga','');
INSERT IGNORE INTO settings (var,value) VALUES ('amazon_site','http://www.amazon.com');
INSERT IGNORE INTO settings (var,value) VALUES ('itunes_country','us');
INSERT IGNORE INTO settings (var,value) VALUES ('youtube_api_version','v3');
INSERT IGNORE INTO settings (var,value) VALUES ('spotify_key','');
INSERT IGNORE INTO settings (var,value) VALUES ('spotify_secrect','');
INSERT IGNORE INTO settings (var,value) VALUES ('items_search','30');
INSERT IGNORE INTO settings (var,value) VALUES ('items_top','30');
INSERT IGNORE INTO settings (var,value) VALUES ('search_engine','lastfm');
INSERT IGNORE INTO settings (var,value) VALUES ('data_engine','lastfm');
INSERT IGNORE INTO settings (var,value) VALUES ('share_fb_msg','I listened to {TRACK} by {ARTIST} on {SITE}');
INSERT IGNORE INTO settings (var,value) VALUES ('header_code','');
INSERT IGNORE INTO settings (var,value) VALUES ('save_local_picture','0');
INSERT IGNORE INTO settings (var,value) VALUES ('use_proxy_images','0');
INSERT IGNORE INTO settings (var,value) VALUES ('filter_youtube_by_region','0');
INSERT IGNORE INTO settings (var,value) VALUES ('brand_icon','icon-earphones');
INSERT IGNORE INTO settings (var,value) VALUES ('banned_genres','');
INSERT IGNORE INTO settings (var,value) VALUES ('musixmatch_api','');
INSERT IGNORE INTO settings (var,value) VALUES ('lyrics_engine','yme');
INSERT IGNORE INTO settings (var,value) VALUES ('cc','0');
INSERT IGNORE INTO settings (var,value) VALUES ('remove_download_button','0');
INSERT IGNORE INTO settings (var,value) VALUES ('default_genre','music');
INSERT IGNORE INTO settings (var,value) VALUES ('adfly_key','');
INSERT IGNORE INTO settings (var,value) VALUES ('adfly_uid','');
INSERT IGNORE INTO settings (var,value) VALUES ('adfly_downloads','0');
INSERT IGNORE INTO settings (var,value) VALUES ('adfly_amazon','0');
INSERT IGNORE INTO settings (var,value) VALUES ('adfly_itunes','0');
INSERT IGNORE INTO settings (var,value) VALUES ('yme_version','0');
INSERT IGNORE INTO settings (var,value) VALUES ('yme_version_updated','0');
INSERT IGNORE INTO settings (var,value) VALUES ('stations_style','stations_list');
INSERT IGNORE INTO settings (var,value) VALUES ('download_only_registered','0');
INSERT IGNORE INTO settings (var,value) VALUES ('show_similar_artist','1');
INSERT IGNORE INTO settings (var,value) VALUES ('apikey1',sha1(now()));
INSERT IGNORE INTO settings (var,value) VALUES ('custom_video_youtube','1');
INSERT IGNORE INTO settings (var,value) VALUES ('menu_top_tracks','1');
INSERT IGNORE INTO settings (var,value) VALUES ('menu_top_artist','1');
INSERT IGNORE INTO settings (var,value) VALUES ('menu_search','1');
INSERT IGNORE INTO settings (var,value) VALUES ('menu_genres','1');
INSERT IGNORE INTO settings (var,value) VALUES ('video_lyric','1');
INSERT IGNORE INTO settings (var,value) VALUES ('use_embed','1');
INSERT IGNORE INTO settings (var,value) VALUES ('embed_color1','#E0EAEC');
INSERT IGNORE INTO settings (var,value) VALUES ('embed_color2','#FFFFFF');
INSERT IGNORE INTO settings (var,value) VALUES ('embed_color3','#545CA6');
INSERT IGNORE INTO settings (var,value) VALUES ('embed_color4','#676767');
INSERT IGNORE INTO settings (var,value) VALUES ('embed_color5','#464646');
INSERT IGNORE INTO settings (var,value) VALUES ('embed_color6','#545CA6');
INSERT IGNORE INTO settings (var,value) VALUES ('factor_ads','5');
INSERT IGNORE INTO settings (var,value) VALUES ('local_cache_id',sha1(now()));
INSERT IGNORE INTO settings (var,value) VALUES ('local_cache','1');
INSERT IGNORE INTO settings (var,value) VALUES ('debug','0');
INSERT IGNORE INTO settings (var,value) VALUES ('top_artist_menu','lastfm');
INSERT IGNORE INTO settings (var,value) VALUES ('format_share_fb','video');
INSERT IGNORE INTO settings (var,value) VALUES ('title_embed','');
INSERT IGNORE INTO settings (var,value) VALUES ('report_video','1');
INSERT IGNORE INTO settings (var,value) VALUES ('token_envato','');
ALTER TABLE users ADD COLUMN recovery varchar(50)  DEFAULT NULL;
ALTER TABLE users CHANGE recovery recovery varchar(50) NOT NULL DEFAULT '';
ALTER TABLE users ADD COLUMN avatar LONGTEXT NOT NULL;
ALTER TABLE users ADD COLUMN bio text  DEFAULT NULL;
ALTER TABLE users CHANGE bio bio varchar(250) NOT NULL DEFAULT '';
ALTER TABLE users ADD COLUMN nickname varchar(100) NOT NULL;
ALTER TABLE users ADD COLUMN activity_global varchar(1) DEFAULT '1' NOT NULL;
ALTER TABLE users ADD COLUMN idfacebook VARCHAR( 100 )  DEFAULT NULL ;
ALTER TABLE users CHANGE idfacebook idfacebook varchar(100) NOT NULL DEFAULT '';
ALTER TABLE users ADD COLUMN idspotify VARCHAR( 100 )  DEFAULT NULL ;
ALTER TABLE users ADD COLUMN public_chat VARCHAR( 1 ) default '1' NOT NULL ;
ALTER TABLE users ADD COLUMN biography_lang VARCHAR( 5 ) NOT NULL DEFAULT  'en';
ALTER TABLE users ADD COLUMN newsletter VARCHAR( 1 ) NOT NULL DEFAULT  '1';
ALTER TABLE users ADD COLUMN mails_received int(11)  NOT NULL default '0';
ALTER TABLE users ADD COLUMN auto_fb_wall VARCHAR(1)  NOT NULL DEFAULT '0';
ALTER TABLE users MODIFY COLUMN mails_received int(11) NOT NULL DEFAULT '0';
UPDATE users set nickname = CONCAT('guest',substring(SHA1(id),1,8)) WHERE nickname IS NULL OR nickname = '';
UPDATE users set nickname = REPLACE(nickname,'.','_') WHERE  nickname like '%.%';
CREATE TABLE IF NOT EXISTS `playlist` (
  `idplaylist` int(11) NOT NULL AUTO_INCREMENT,
  `iduser` int(11) NOT NULL,
  `name` varchar(250) NOT NULL,
  `json` longtext NOT NULL,
  `public` varchar(1) NOT NULL DEFAULT 'S',
  PRIMARY KEY (`idplaylist`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;
CREATE TABLE IF NOT EXISTS `token_spotify` (
  `idtoken` int(11) NOT NULL AUTO_INCREMENT,
  `iduser` int(11) NOT NULL,
  `access_token` longtext NOT NULL,
  `refresh_token` longtext NOT NULL,
  `token_type` varchar(20) NOT NULL,  
  `expires_in` int(11) NOT NULL,
  `created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`idtoken`),
  UNIQUE KEY `token_user` (`iduser`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;
CREATE TABLE IF NOT EXISTS `token_facebook` (
  `idtoken` int(11) NOT NULL AUTO_INCREMENT,
  `iduser` int(11) NOT NULL,
  `access_token` longtext NOT NULL,  
  `token_type` varchar(20) NOT NULL,  
  `expires_in` int(11) NOT NULL,
  `created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`idtoken`),
  UNIQUE KEY `token_user` (`iduser`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;
CREATE TABLE IF NOT EXISTS `pages` (
  `idpage` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(150) NOT NULL,
  `content` text NOT NULL,
  PRIMARY KEY (`idpage`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
CREATE TABLE IF NOT EXISTS `activity` (
  `idactivity` bigint(11) NOT NULL AUTO_INCREMENT,
  `iduser` int(11) NOT NULL,
  `action` int(11) NOT NULL COMMENT '1 => Play, 2 => Playlist',
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `artist` varchar(100) NOT NULL,
  `track` varchar(100) NOT NULL,
  `idplaylist` int(11) NOT NULL,
  `likes` int(11) NOT NULL,
  `youtube` varchar(100) NOT NULL,
  PRIMARY KEY (`idactivity`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
CREATE TABLE IF NOT EXISTS `follows` (  
  `iduser` int(11) NOT NULL,
  `iduserf` int(11) NOT NULL,
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,  
  UNIQUE KEY `iduser` (`iduser`,`iduserf`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
CREATE TABLE IF NOT EXISTS  `ci_sessions` (
  session_id varchar(40) DEFAULT '0' NOT NULL,
  ip_address varchar(45) DEFAULT '0' NOT NULL,
  user_agent varchar(120) NOT NULL,
  last_activity int(10) unsigned DEFAULT 0 NOT NULL,
  user_data text NOT NULL,
  PRIMARY KEY (session_id),
  KEY `last_activity_idx` (`last_activity`)
);
CREATE TABLE IF NOT EXISTS `top_page_artist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `artist` varchar(150) NOT NULL,
  `cover` varchar(250) NOT NULL,
  `index` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `artist` (`artist`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
CREATE TABLE IF NOT EXISTS `lyrics` (
  `idlyrics` int(11) NOT NULL AUTO_INCREMENT,
  `artist` varchar(100) NOT NULL,
  `track` varchar(100) NOT NULL,
  `lyric` longtext NOT NULL,
  PRIMARY KEY (`idlyrics`),
  UNIQUE KEY `artist_2` (`artist`,`track`),
  KEY `artist` (`artist`(50),`track`(50))
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
CREATE TABLE IF NOT EXISTS `online` (
  `iduser` int(11) NOT NULL,
  `last_activity` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ip` varchar(150) NOT NULL,
  `type` enum('user','guest','robot','other') NOT NULL,
  UNIQUE KEY `iduser` (`iduser`,`ip`),
  KEY `iduser_2` (`iduser`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `chat` (
  `iduser` int(11) NOT NULL,
  `idfriend` int(11) NOT NULL,
  `message` varchar(250) NOT NULL,
  `seen` date NOT NULL,
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `extra_menus` (
  `title` varchar(50) NOT NULL,
  `icon` varchar(20) NOT NULL,
  `keyname` varchar(20) NOT NULL,
  `route` varchar(100) NOT NULL,
  UNIQUE KEY `route` (`route`),
  UNIQUE KEY `title` (`title`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `notifications` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `iduser` int(11) NOT NULL,
  `iduserf` int(11) NOT NULL,
  `type` varchar(1) NOT NULL DEFAULT 'f',
  `date` datetime NOT NULL,
  `seen` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `iduser` (`iduser`,`iduserf`,`type`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
CREATE TABLE IF NOT EXISTS `carousel` (
  `idcarousel` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(250) NOT NULL,
  `type` varchar(50) NOT NULL,
  `artist` varchar(100) NOT NULL,
  `track` varchar(100) NOT NULL,
  `picture` varchar(250) NOT NULL,
  `order` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`idcarousel`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
CREATE TABLE IF NOT EXISTS `languages` (
  `language` varchar(50) NOT NULL,
  `iso` varchar(5) NOT NULL,
  `biography` varchar(1) NOT NULL DEFAULT '0',
  UNIQUE KEY `language` (`language`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `language` (
  `language` varchar(50) NOT NULL,
  `key` varchar(100) NOT NULL,
  `text` text NOT NULL,
  UNIQUE KEY `language` (`language`,`key`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `stations_m3a` (
  `idtstation` int(11) NOT NULL AUTO_INCREMENT,
  `m3u` text NOT NULL,
  `title` varchar(200) NOT NULL,
  `cover` text NOT NULL,
  PRIMARY KEY (`idtstation`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;
CREATE TABLE IF NOT EXISTS `tracks` (
  `artist` varchar(100) NOT NULL,
  `track` varchar(100) NOT NULL,
  `cover` varchar(200) NOT NULL,
  `downloads_mp3` int(11) NOT NULL DEFAULT '0',
  `downloads_itunes` int(11) NOT NULL DEFAULT '0',
  `downloads_amazon` int(11) NOT NULL DEFAULT '0',
  UNIQUE KEY `artist` (`artist`,`track`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `badges` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type` varchar(200) NOT NULL,
  `value` int(11) NOT NULL,
  `badge` varchar(200) NOT NULL,
  `title` varchar(200) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
CREATE TABLE IF NOT EXISTS `artist` (
  `artist` varchar(100) NOT NULL,
  `lang` varchar(10) NOT NULL,
  `bio` text NOT NULL,
  `tags` text NOT NULL,
  `cover` varchar(250) NOT NULL,
  `mbid` varchar(150) NOT NULL,
  `status` int(1) NOT NULL DEFAULT '1',
  UNIQUE KEY `artist` (`artist`,`lang`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `errors` (
  `error` TEXT NOT NULL,
  `date` DATETIME NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `route_url` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `url` text NOT NULL,
  `target` text NOT NULL,
  `action` text NOT NULL,  
  `code` int(11) NOT NULL,    
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;
CREATE TABLE IF NOT EXISTS `api_methods` (
  `method` varchar(20) NOT NULL,
  `param` varchar(20) NOT NULL,
  `required` tinyint(1) NOT NULL DEFAULT '1',
  `description` text NOT NULL,
  `description_method` text NOT NULL,
  `type` varchar(10) NOT NULL DEFAULT 'GET',
  `response` varchar(10) NOT NULL DEFAULT 'JSON',
  UNIQUE KEY `api_methods` (`method`,`param`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `activity_likes` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `iduser` int(11) NOT NULL,
  `idactivity` int(11) NOT NULL,
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `iduser` (`iduser`,`idactivity`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
INSERT IGNORE INTO extra_menus (title,icon,route,keyname) VALUES ('Facebook Setting','fa fa-facebook','dashboard/facebook_setting','facebook');
update extra_menus set title = 'Facebook Setting' where keyname = 'facebook';
INSERT IGNORE INTO languages (language, iso,biography) VALUES('english', 'en', '1');
ALTER TABLE  tracks ADD  COLUMN json MEDIUMTEXT NOT NULL;
ALTER TABLE  tracks ADD  COLUMN updated DATETIME NOT NULL;
ALTER TABLE  tracks ADD  COLUMN youtube varchar(15) DEFAULT '' NOT NULL;
ALTER TABLE  tracks ADD  COLUMN mbid varchar(50) DEFAULT '' NOT NULL;
ALTER TABLE  tracks ADD  COLUMN genre varchar(10) DEFAULT '' NOT NULL;
ALTER TABLE  tracks ADD  COLUMN reported varchar(1) DEFAULT '0';
ALTER TABLE  artist ADD  COLUMN syncpl varchar(1) DEFAULT '0' NOT NULL;
ALTER TABLE  stations_m3a ADD  description TEXT ;
ALTER TABLE  stations_m3a ADD  keywords TEXT ;
ALTER TABLE  stations_m3a ADD  category  varchar(250) DEFAULT '' NOT NULL;
ALTER TABLE  activity ADD COLUMN picture varchar(250) DEFAULT '' NOT NULL;
ALTER TABLE  chat ADD  COLUMN date2 DATETIME NOT NULL ;
ALTER TABLE  carousel ADD  COLUMN station INT NOT NULL ;
ALTER TABLE  carousel ADD  COLUMN external_url TEXT ;
ALTER TABLE  carousel ADD  COLUMN external_url_target varchar(10) NOT NULL DEFAULT '' ;
ALTER TABLE  playlist ADD  COLUMN description  ;
ALTER TABLE  playlist MODIFY COLUMN description TEXT ;
ALTER TABLE  playlist ADD  COLUMN type varchar(10) NOT NULL ;
ALTER TABLE  playlist MODIFY COLUMN type varchar(10) NOT NULL DEFAULT '';
ALTER TABLE  playlist ADD  COLUMN external_id varchar(250) NOT NULL ;
ALTER TABLE  playlist MODIFY COLUMN external_id varchar(250) NOT NULL DEFAULT '';
ALTER TABLE  playlist ADD  COLUMN autosync varchar(1) DEFAULT '1' NOT NULL ;
ALTER TABLE  playlist ADD  COLUMN external_owner varchar(150) DEFAULT '' NOT NULL ;
ALTER TABLE  playlist ADD  COLUMN source VARCHAR(15) default 'local' NOT NULL;
ALTER TABLE  playlist ADD  COLUMN cover VARCHAR(250) default '' NOT NULL;
ALTER TABLE  playlist ADD  COLUMN description VARCHAR(250) default '' NOT NULL;
CREATE INDEX lyric_s ON lyrics (lyric(250));
CREATE INDEX search_i ON stations_m3a (description(100),keywords(50));
DROP INDEX dater_i ON activity;
CREATE INDEX dater_i ON activity ( `date`);
DROP INDEX id_i ON users;
CREATE INDEX id_i ON users ( `id`);
DROP INDEX iduser_i ON activity;
CREATE INDEX iduser_i ON activity ( `iduser`);
DROP INDEX activity_global_i ON users;
CREATE INDEX activity_global_i ON users ( `activity_global`);
DELETE from activity where picture ='' and action ='1';
INSERT INTO settings (var,value) VALUES ('yme_version','6.1.0')  ON DUPLICATE KEY UPDATE value='6.1.0';
DROP INDEX tupdated_i ON tracks;
CREATE INDEX tupdated_i ON tracks ( `updated`);
DROP INDEX tags_i ON artist;
CREATE INDEX tags_i ON artist ( `tags`);
DROP INDEX lang_i ON artist;
CREATE INDEX lang_i ON artist ( `lang`);
DELETE FROM api_methods;
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('search', 'key', 1, 'API Key', 'Search for a track by track name. Returns track matches sorted by relevance.', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('search', 'query', 1, 'String to Search', 'Search for a track by track name. Returns track matches sorted by relevance.', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('getVideo', 'key', 1, 'API Key', 'Search Video on Youtube. Returns ID Video', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('getVideo', 'artist', 1, 'The artist name', 'Search Video on Youtube. Returns ID Video', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('getVideo', 'track', 1, 'The track name', 'Search Video on Youtube. Returns ID Video', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('getArtist', 'key', 1, 'The API Key', 'Get the metadata for an artist.', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('getArtist', 'artist', 1, 'The artist name', 'Get the metadata for an artist.', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('getTrack', 'key', 1, 'The API Key', 'Get the metadata for a track\r\n', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('getTrack', 'artist', 1, 'The artist name', 'Get the metadata for a track\r\n', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('getTrack', 'track', 1, 'Track name', 'Get the metadata for a track\r\n', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('getLyric', 'key', 1, 'The API Key', 'Search lyrics', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('getLyric', 'artist', 1, 'The artist name', 'Search lyrics', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('getLyric', 'track', 1, 'The track name', 'Search lyrics', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('getStations', 'key', 1, 'The API Key', 'Retrieve all stations', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('createUser', 'key', 1, 'The API Key', 'Create a new user in your site.', 'POST', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('createUser', 'email', 1, 'User email', 'Create a new user in your site.', 'POST', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('createUser', 'nickname', 1, 'nickname user', 'Create a new user in your site.', 'POST', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('createUser', 'password', 1, 'User Password', 'Create a new user in your site.', 'POST', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('validateUser', 'key', 1, 'The API Key', 'Validate user with email and password', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('validateUser', 'email', 1, 'User Email (You can use nickname too)', 'Validate user with email and password', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('validateUser', 'password', 1, 'User Password', 'Validate user with email and password', 'GET', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('recoveryPasswordUser', 'key', 1, 'The API Key ', 'Send a Email with recovery password user', 'POST', 'JSON');
INSERT IGNORE INTO `api_methods` (`method`, `param`, `required`, `description`, `description_method`, `type`, `response`) VALUES('recoveryPasswordUser', 'email', 1, 'User Email', 'Send a Email with recovery password user', 'POST', 'JSON');
UPDATE settings  SET value = sha1(now()) where var = 'local_cache_id';
ALTER TABLE notifications DROP INDEX iduser;